extends base.pug

block content
  .container.welcome
    h1 Welcome to AKKA Chess!
    form.pure-form.pure-form-aligned(action="/setup", onsubmit="return validateForm(this)")
      label(for="pname") Name
      input.name-text(type="text", name="pname", id="pname")

      p Select game type 
      .player-type
        input.ai-radio(type="radio", name="ptype", value="human" id="human" checked="checked" onchange="onToggle(this.value)")
        label(for="human")  Human
        input.human-radio(type="radio", name="ptype", id="ai", value="ai" onchange="onToggle(this.value)")
        label(for="ai")  The Turk (Computer)
        input.watch-radio(type="radio", name="ptype", id="watch", value="watch" onchange="onToggle(this.value)")
        label(for="watch")  Observe Game
      
      .watch-game-list
        p Select a game to watch
        select(name="watchGame", onchange="onWatchGameSelection(this.value)") Current Games
          each watchgame, id in games
            if watchgame.result === "*"
              - var display = watchgame.player1.name || watchgame.id
              option(value=id)= display
          else
            option(value="") No Current Games
        button#refresh-btn.pure-button(type="button", class='button', onclick='watchRefreshGames()') Refresh Games

      .game-list
        p Select an opponent or create a new game and someone will join shortly
        select(name="game", onchange="onGameSelection(this.value)") Current Games
          option(value="") New Game
          for game, id in games
            if game.result === "?"
              - var display = game.player1.name || game.id
              option(value=id)= display
        button#refresh-btn.pure-button(type="button", class='button', onclick='refreshGames()') Refresh Games     
      button.create-game-btn.pure-button(type="submit") Create Game

